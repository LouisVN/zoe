
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Zoe - The Kafka companion">
      
      
      
        <meta name="author" content="Adevinta">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.1">
    
    
      
        <title>Consuming data - Zoe - The Kafka Companion</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9299cb39.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#consuming-data" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Zoe - The Kafka Companion" class="md-header__button md-logo" aria-label="Zoe - The Kafka Companion" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Zoe - The Kafka Companion
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Consuming data
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/adevinta/zoe/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    adevinta/zoe
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Zoe - The Kafka Companion" class="md-nav__button md-logo" aria-label="Zoe - The Kafka Companion" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Zoe - The Kafka Companion
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/adevinta/zoe/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    adevinta/zoe
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Install
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Install" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Install
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/package/" class="md-nav__link">
        Platform packages
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/homebrew/" class="md-nav__link">
        Homebrew
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/tarball/" class="md-nav__link">
        Tarball install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/completion/" class="md-nav__link">
        Enable auto completion
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Getting started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../prepare/" class="md-nav__link">
        Prepare the environment
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../produce/" class="md-nav__link">
        Producing data
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Consuming data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Consuming data
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consuming-data_1" class="md-nav__link">
    Consuming data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#displaying-records-metadata" class="md-nav__link">
    Displaying records metadata
  </a>
  
    <nav class="md-nav" aria-label="Displaying records metadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#controlling-the-time-range" class="md-nav__link">
    Controlling the time range
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-a-subset-of-the-fields" class="md-nav__link">
    Selecting a subset of the fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pretty-display" class="md-nav__link">
    Pretty display
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtering-data-based-on-content" class="md-nav__link">
    Filtering data based on content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../operations/" class="md-nav__link">
        Operations
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Configuration
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Configuration" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/init/" class="md-nav__link">
        Config initialization
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/environments/" class="md-nav__link">
        Environments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/chain/" class="md-nav__link">
        Configuration loading chain
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/reference/" class="md-nav__link">
        Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Advanced usage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Advanced usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Advanced usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/avro/" class="md-nav__link">
        Using avro and schema registry
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/expressions/" class="md-nav__link">
        Registered expressions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/defaults/" class="md-nav__link">
        Overriding defaults
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/aliases/" class="md-nav__link">
        Using aliases
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" >
      
      <label class="md-nav__link" for="__nav_5_5">
        Secrets provider
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Secrets provider" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          Secrets provider
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/secrets/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/secrets/envvars/" class="md-nav__link">
        Environment variables provider
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/secrets/strongbox/" class="md-nav__link">
        Strongbox
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/secrets/awssm/" class="md-nav__link">
        AWS Secrets Manager
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/secrets/exec/" class="md-nav__link">
        Exec provider
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_6" type="checkbox" id="__nav_5_6" >
      
      <label class="md-nav__link" for="__nav_5_6">
        Runners in depth
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Runners in depth" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_6">
          <span class="md-nav__icon md-icon"></span>
          Runners in depth
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/runners/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/runners/local/" class="md-nav__link">
        Local
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/runners/lambda/" class="md-nav__link">
        Lambda
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/runners/kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Hands-on Guides
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Hands-on Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Hands-on Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/simple/guide/" class="md-nav__link">
        Basic scenario
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/avro/guide/" class="md-nav__link">
        Zoe with Avro
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/kubernetes/guide/" class="md-nav__link">
        Zoe with Kubernetes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/configuration/guide/" class="md-nav__link">
        Managing the configuration
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consuming-data_1" class="md-nav__link">
    Consuming data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#displaying-records-metadata" class="md-nav__link">
    Displaying records metadata
  </a>
  
    <nav class="md-nav" aria-label="Displaying records metadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#controlling-the-time-range" class="md-nav__link">
    Controlling the time range
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-a-subset-of-the-fields" class="md-nav__link">
    Selecting a subset of the fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pretty-display" class="md-nav__link">
    Pretty display
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtering-data-based-on-content" class="md-nav__link">
    Filtering data based on content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/adevinta/zoe/edit/master/docs/basics/consume.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="consuming-data">Consuming data</h1>
<p>In this step, we will learn more about the <code>consume</code> command by reading the data produced during the previous section.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>You should have completed the two previous steps :</p>
<ul>
<li><a href="../prepare/">Prepare the environment</a></li>
<li><a href="../produce/">Producing data</a></li>
</ul>
<h2 id="consuming-data_1">Consuming data</h2>
<p>To consume data from the <code>input</code> topic (alias of the <code>input-topic</code>), use the following command :</p>
<p>```bash tab="command"
zoe -v --cluster local topics consume input
<div class="highlight"><pre><span></span><code>```json tab=&quot;output&quot;
{&quot;_id&quot;:&quot;5b199196ce456e001424256a&quot;,&quot;text&quot;:&quot;Cats can distinguish different flavors in water.&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:6,&quot;userUpvoted&quot;:null}
{&quot;_id&quot;:&quot;5b1b411d841d9700146158d9&quot;,&quot;text&quot;:&quot;The Egyptian Mau’s name is derived from the Middle...&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:5,&quot;userUpvoted&quot;:null}
{&quot;_id&quot;:&quot;591d9b2f227c1a0020d26823&quot;,&quot;text&quot;:&quot;Every year, nearly four million cats are eaten in ...&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:4,&quot;userUpvoted&quot;:null}
{&quot;_id&quot;:&quot;59951d5ef2db18002031693c&quot;,&quot;text&quot;:&quot;America’s cats, including housecats that adventure...&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:4,&quot;userUpvoted&quot;:null}
{&quot;_id&quot;:&quot;5a4d76916ef087002174c28b&quot;,&quot;text&quot;:&quot;A cat’s nose pad is ridged with a unique pattern, ...&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:4,&quot;userUpvoted&quot;:null}
</code></pre></div></p>
<p>By default, zoe consumes 5 records starting from the last hour.</p>
<h2 id="displaying-records-metadata">Displaying records metadata</h2>
<p>To display the records' metadata (record headers, key, offset, timestamp, partition, topic), use the <code>--with-meta</code> option as the following:</p>
<p>```bash tab="command"
zoe -v --cluster local topics consume input -n 5 --with-meta
<div class="highlight"><pre><span></span><code>```json tab=&quot;output&quot;
{&quot;meta&quot;: {&quot;key&quot;:&quot;5b199196ce456e001424256a&quot;, &quot;offset&quot;:1, &quot;timestamp&quot;:1596700800645, &quot;partition&quot;:0, &quot;topic&quot;:&quot;input&quot;,&quot;headers&quot;:{&quot;traceId&quot;:&quot;3b3ae7fa-2a8b-494b-a81c-1c759a479867&quot;}},&quot;content&quot;:{&quot;_id&quot;:&quot;5b199196ce456e001424256a&quot;,&quot;text&quot;:&quot;Cats can distinguish different flavors in water.&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:6,&quot;userUpvoted&quot;:null}
{&quot;meta&quot;: {&quot;key&quot;:&quot;5b1b411d841d9700146158d9&quot;, &quot;offset&quot;:2, &quot;timestamp&quot;:2596700800645, &quot;partition&quot;:0, &quot;topic&quot;:&quot;input&quot;,&quot;headers&quot;:{&quot;traceId&quot;:&quot;4b3ae7fa-2a8b-494b-a81c-1c759a479867&quot;}},&quot;content&quot;:{&quot;_id&quot;:&quot;5b1b411d841d9700146158d9&quot;,&quot;text&quot;:&quot;The Egyptian Mau’s name is derived from the Middle...&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:5,&quot;userUpvoted&quot;:null}
{&quot;meta&quot;: {&quot;key&quot;:&quot;591d9b2f227c1a0020d26823&quot;, &quot;offset&quot;:3, &quot;timestamp&quot;:3596700800645, &quot;partition&quot;:0, &quot;topic&quot;:&quot;input&quot;,&quot;headers&quot;:{&quot;traceId&quot;:&quot;5b3ae7fa-2a8b-494b-a81c-1c759a479867&quot;}},&quot;content&quot;:{&quot;_id&quot;:&quot;591d9b2f227c1a0020d26823&quot;,&quot;text&quot;:&quot;Every year, nearly four million cats are eaten in ...&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:4,&quot;userUpvoted&quot;:null}
{&quot;meta&quot;: {&quot;key&quot;:&quot;59951d5ef2db18002031693c&quot;, &quot;offset&quot;:1, &quot;timestamp&quot;:4596700800645, &quot;partition&quot;:1, &quot;topic&quot;:&quot;input&quot;,&quot;headers&quot;:{&quot;traceId&quot;:&quot;6b3ae7fa-2a8b-494b-a81c-1c759a479867&quot;}},&quot;content&quot;:{&quot;_id&quot;:&quot;59951d5ef2db18002031693c&quot;,&quot;text&quot;:&quot;America’s cats, including housecats that adventure...&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:4,&quot;userUpvoted&quot;:null}
{&quot;meta&quot;: {&quot;key&quot;:&quot;5a4d76916ef087002174c28b&quot;, &quot;offset&quot;:2, &quot;timestamp&quot;:5596700800645, &quot;partition&quot;:1, &quot;topic&quot;:&quot;input&quot;,&quot;headers&quot;:{&quot;traceId&quot;:&quot;7b3ae7fa-2a8b-494b-a81c-1c759a479867&quot;}},&quot;content&quot;:{&quot;_id&quot;:&quot;5a4d76916ef087002174c28b&quot;,&quot;text&quot;:&quot;A cat’s nose pad is ridged with a unique pattern, ...&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:4,&quot;userUpvoted&quot;:null}
</code></pre></div></p>
<h3 id="controlling-the-time-range">Controlling the time range</h3>
<p>We can control the number of output records (<code>-n</code>) and the starting time of the consumption (<code>--from</code>).</p>
<p>For example, to start the consumption from the last 6 hours and read only 2 records:</p>
<p>```bash tab="command"
zoe -v --cluster local topics consume input -n 2 --from 'PT6h'
<div class="highlight"><pre><span></span><code>```json tab=&quot;output&quot;
{&quot;_id&quot;:&quot;5b199196ce456e001424256a&quot;,&quot;text&quot;:&quot;Cats can distinguish different flavors in water.&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:6,&quot;userUpvoted&quot;:null}
{&quot;_id&quot;:&quot;5b1b411d841d9700146158d9&quot;,&quot;text&quot;:&quot;The Egyptian Mau’s name is derived from the Middle...&quot;,&quot;type&quot;:&quot;cat&quot;,&quot;user&quot;:{&quot;_id&quot;:&quot;5a9ac18c7478810ea6c06381&quot;,&quot;name&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}},&quot;upvotes&quot;:5,&quot;userUpvoted&quot;:null}
</code></pre></div></p>
<p>The <code>--from</code> option takes a duration in <a href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO-8601 format</a>.</p>
<h3 id="selecting-a-subset-of-the-fields">Selecting a subset of the fields</h3>
<p>We can format the output rows by using the <code>--query</code> option and giving it a <a href="https://jmespath.org/">jmespath expression</a>. Zoe will run this Jmespath expression against each message and the result will be output instead of the original message itself. A typical use case is when we want only a subset of the existing fields:</p>
<p>```bash tab="command"
zoe -v --cluster local \
       topics consume input \
       --query '{id: _id, text: text, user: user.name}'
<div class="highlight"><pre><span></span><code>```json tab=&quot;output&quot;
{&quot;id&quot;:&quot;5b199196ce456e001424256a&quot;,&quot;text&quot;:&quot;Cats can distinguish different flavors in water.&quot;,&quot;user&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}}
{&quot;id&quot;:&quot;5b1b411d841d9700146158d9&quot;,&quot;text&quot;:&quot;The Egyptian Mau’s name is derived from the Middle...&quot;,&quot;user&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}}
{&quot;id&quot;:&quot;591d9b2f227c1a0020d26823&quot;,&quot;text&quot;:&quot;Every year, nearly four million cats are eaten in ...&quot;,&quot;user&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}}
{&quot;id&quot;:&quot;59951d5ef2db18002031693c&quot;,&quot;text&quot;:&quot;America’s cats, including housecats that adventure...&quot;,&quot;user&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}}
{&quot;id&quot;:&quot;5a4d76916ef087002174c28b&quot;,&quot;text&quot;:&quot;A cat’s nose pad is ridged with a unique pattern, ...&quot;,&quot;user&quot;:{&quot;first&quot;:&quot;Alex&quot;,&quot;last&quot;:&quot;Wohlbruck&quot;}}
</code></pre></div></p>
<h3 id="pretty-display">Pretty display</h3>
<p>Zoe can display the consumed data in a nicely formatted table by using the <code>--output table</code> option:</p>
<p>```bash tab="command"
zoe -v --cluster local \
       --output table \
       topics consume input \
       --query '{id: _id, text: text, user: user.name}'
<div class="highlight"><pre><span></span><code>```text tab=&quot;output&quot;
┌──────────────────────────┬───────────────────────────────────────────────────────┬───────────────────┐
│ id                       │ text                                                  │ user              │
├──────────────────────────┼───────────────────────────────────────────────────────┼───────────────────┤
│ 5b199196ce456e001424256a │ Cats can distinguish different flavors in water.      │ first: &quot;Alex&quot;     │
│                          │                                                       │ last: &quot;Wohlbruck&quot; │
├──────────────────────────┼───────────────────────────────────────────────────────┼───────────────────┤
│ 5b1b411d841d9700146158d9 │ The Egyptian Mau’s name is derived from the Middle... │ first: &quot;Alex&quot;     │
│                          │                                                       │ last: &quot;Wohlbruck&quot; │
├──────────────────────────┼───────────────────────────────────────────────────────┼───────────────────┤
│ 591d9b2f227c1a0020d26823 │ Every year, nearly four million cats are eaten in ... │ first: &quot;Alex&quot;     │
│                          │                                                       │ last: &quot;Wohlbruck&quot; │
├──────────────────────────┼───────────────────────────────────────────────────────┼───────────────────┤
│ 59951d5ef2db18002031693c │ America’s cats, including housecats that adventure... │ first: &quot;Alex&quot;     │
│                          │                                                       │ last: &quot;Wohlbruck&quot; │
├──────────────────────────┼───────────────────────────────────────────────────────┼───────────────────┤
│ 5a4d76916ef087002174c28b │ A cat’s nose pad is ridged with a unique pattern, ... │ first: &quot;Alex&quot;     │
│                          │                                                       │ last: &quot;Wohlbruck&quot; │
└──────────────────────────┴───────────────────────────────────────────────────────┴───────────────────┘
</code></pre></div></p>
<p>We can also use the <code>--output json</code> to output a valid json instead of a json per row :</p>
<p>```bash tab="command"
zoe -v --cluster local \
       --output json \
       topics consume input \
       --query '{id: _id, text: text, user: user.name}' \
       -n 2
<div class="highlight"><pre><span></span><code>```json tab=&quot;output&quot;
[
    {
        &quot;id&quot;: &quot;5b199196ce456e001424256a&quot;,
        &quot;text&quot;: &quot;Cats can distinguish different flavors in water.&quot;,
        &quot;user&quot;: {
            &quot;first&quot;: &quot;Alex&quot;,
            &quot;last&quot;: &quot;Wohlbruck&quot;
        }
    },
    {
        &quot;id&quot;: &quot;5b1b411d841d9700146158d9&quot;,
        &quot;text&quot;: &quot;The Egyptian Mau’s name is derived from the Middle...&quot;,
        &quot;user&quot;: {
            &quot;first&quot;: &quot;Alex&quot;,
            &quot;last&quot;: &quot;Wohlbruck&quot;
        }
    }
]
</code></pre></div></p>
<p>These display options are not only availabe for the <code>consume</code>. They are available for all the zoe commands. In fact, Zoe can consistently display all its output as a table. </p>
<h3 id="filtering-data-based-on-content">Filtering data based on content</h3>
<p>Zoe can also use <a href="https://jmespath.org/">Jmespath expressions</a> that return a boolean to filter the output messages. Zoe runs this expression against each message and depending on the boolean result, zoe will discard the message or not.</p>
<p>This feature can be used to perform searches into Kafka topics. It is one of the most interesting features of Zoe. When combined with remote runners (ex. <code>--runner kubernetes</code>) and parallel execution (<code>--jobs 20</code> to spin up 20 pods), we can perform expensive searches in large topics in a relatively short amount of time. You can learn more about runners and parallel execution in the advanced section of the documentation.</p>
<p>Filters are enabled with the <code>--filter</code> option. For example, to read only Kasimir's cat facts :</p>
<p>```bash tab="command"
zoe -v --cluster local \
    topics consume input \
    --from 'PT6h' \
    --filter "user.name.first == 'Kasimir'" \
    --query '{user: user.name, text: text}'
<div class="highlight"><pre><span></span><code>```json tab=&quot;output&quot;
{&quot;user&quot;:{&quot;first&quot;:&quot;Kasimir&quot;,&quot;last&quot;:&quot;Schulz&quot;},&quot;text&quot;:&quot;Cats are the most popular pet in the United States...&quot;}
{&quot;user&quot;:{&quot;first&quot;:&quot;Kasimir&quot;,&quot;last&quot;:&quot;Schulz&quot;},&quot;text&quot;:&quot;In tigers and tabbies, the middle of the tongue is...&quot;}
{&quot;user&quot;:{&quot;first&quot;:&quot;Kasimir&quot;,&quot;last&quot;:&quot;Schulz&quot;},&quot;text&quot;:&quot;A cat can jump up to six times its length.&quot;}
{&quot;user&quot;:{&quot;first&quot;:&quot;Kasimir&quot;,&quot;last&quot;:&quot;Schulz&quot;},&quot;text&quot;:&quot;There are cats who have survived falls from over 3...&quot;}
{&quot;user&quot;:{&quot;first&quot;:&quot;Kasimir&quot;,&quot;last&quot;:&quot;Schulz&quot;},&quot;text&quot;:&quot;The technical term for \&quot;hairball\&quot; is \&quot;bezoar.\&quot;&quot;}
</code></pre></div></p>
<p>If we are dealing with a large topic and want to search for seven days of data, we can offload the consumption to kubernetes and spin up 25 pods to consume data in parallel using the following command :</p>
<p>```bash tab="command"
zoe --cluster my-production-cluster \
    --runner kubernetes \
    topics consume input \
    --from 'P7d' \
    --filter "user.name.first == 'Kasimir'" \
    --jobs 25
<div class="highlight"><pre><span></span><code>This command will not work as is on your computer at this stage because this requires additional work to configure access to a kubernetes cluster with zoe. But there is a tutorial available in this documentation to try out zoe with a kubernetes cluster using Minikube.

### Filtering data based on metadata

Just like Zoe can use [Jmespath expressions](https://jmespath.org/) to filter record content with the `--filter` option, it can also filter records based on their metadata using the `--filter-meta` option.

```bash tab=&quot;command&quot;
zoe -v --cluster local topics consume input --with-meta --filter-meta &quot;offset == \`1\` &amp;&amp; partition == \`1\`&quot;
</code></pre></div></p>
<p>```json tab="output"
{"meta": {"key":"59951d5ef2db18002031693c", "offset":1, "timestamp":4596700800645, "partition":1, "topic":"input","headers":{"traceId":"6b3ae7fa-2a8b-494b-a81c-1c759a479867"}},"content":{"_id":"59951d5ef2db18002031693c","text":"America’s cats, including housecats that adventure...","type":"cat","user":{"_id":"5a9ac18c7478810ea6c06381","name":{"first":"Alex","last":"Wohlbruck"}},"upvotes":4,"userUpvoted":null}
<div class="highlight"><pre><span></span><code>Record headers can also be used for filtering. The following command show an example of filtering records based on header values:

```bash tab=&quot;command&quot;
zoe --cluster local topics consume input \
    --with-meta \
    --filter-meta &quot;headers.traceId == &#39;123123&#39;&quot;
</code></pre></div></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../produce/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Producing data
            </div>
          </div>
        </a>
      
      
        <a href="../operations/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Operations
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright (c) 2020 Adevinta
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.7353b375.min.js"></script>
      
    
  </body>
</html>